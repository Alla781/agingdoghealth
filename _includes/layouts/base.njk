<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ title or site.name }}</title>

  <!-- Meta / SEO -->
  <meta name="description" content="{{ description or site.description }}">
  <link rel="canonical" href="{{ site.url }}{{ page.url | url }}" />

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/assets/favicon.ico" />

  <!-- Open Graph / Social -->
  <meta property="og:title" content="{{ title or 'Aging Dog Health' }}">
  <meta property="og:description" content="Guides and remedies for senior dogs — trusted, caring advice.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://agingdoghealth.com">
  <meta property="og:image" content="https://agingdoghealth.com/assets/og-image.jpg">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ title or 'Aging Dog Health' }}">
  <meta name="twitter:description" content="Practical health tips for senior dogs.">
  <meta name="twitter:image" content="https://agingdoghealth.com/assets/og-image.jpg">

  <!-- Search Console -->
  <meta name="google-site-verification" content="ADD_YOUR_VERIFICATION_TOKEN_HERE" />

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX');
  </script>

  <!-- JSON-LD Structured Data -->
  {% if title %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Aging Dog Health",
    "url": "https://agingdoghealth.com",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://agingdoghealth.com/?s={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>
  {% endif %}

  {% if page.url and title %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "{{ title | escape }}",
    "author": { "@type": "Organization", "name": "Aging Dog Health" },
    "publisher": { "@type": "Organization", "name": "Aging Dog Health" },
    "url": "https://agingdoghealth.com{{ page.url }}",
    "mainEntityOfPage": "https://agingdoghealth.com{{ page.url }}"
  }
  </script>
  {% endif %}

  <!-- Styles -->
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: "Lato", sans-serif;
      margin: 0;
      background-color: #fff;
      color: #222;
      line-height: 1.6;
    }
    main {
      max-width: 1100px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    img {
      max-width: 100%;
      height: auto;
      display: block;
      loading: lazy;
    }
/* Mobile Menu Behavior */
.menu-toggle {
  display: none;
  background: none;
  border: none;
  font-size: 1.8rem;
  color: #245f3e;
  cursor: pointer;
}

/* Hide nav on small screens */
@media (max-width: 800px) {
  .menu-toggle {
    display: block;
    margin-left: auto;
  }

  .nav {
    display: none;
    flex-direction: column;
    background-color: #f5f2e8;
    width: 100%;
    padding: 1rem 0;
  }

  .nav.open {
    display: flex;
  }

  .nav ul {
    flex-direction: column;
    gap: 0;
  }

  .nav-item {
    text-align: left;
    padding: 0.5rem 1rem;
  }

  .dropdown {
    display: none;
    padding-left: 1rem;
  }

  .dropdown.open {
    display: block;
  }
}
  </style>
</head>

<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="wrap">
      <div class="brand">
        <a href="/">Aging Dog Health</a>
      </div>

      <button class="menu-toggle" aria-label="Toggle Menu">☰</button>

      <nav class="nav">
        <ul>
          {% for item in menu %}
            <li class="nav-item">
              <a href="{{ item.url }}">{{ item.title }}</a>
              {% if item.submenu and item.submenu.length > 0 %}
                <ul class="dropdown">
                  {% for sub in item.submenu %}
                    <li><a href="{{ sub.url }}">{{ sub.title }}</a></li>
                  {% endfor %}
                </ul>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
      </nav>
    </div>
  </header>

  <main>
    {% block content %}{% endblock %}
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="wrap">
      <p>&copy; {{ "now" | date("YYYY") }} Aging Dog Health. All rights reserved.</p>
      <p>
        <a href="/privacy/">Privacy Policy</a> ·
        <a href="/terms/">Terms</a> ·
        <a href="/contact/">Contact</a>
      </p>
    </div>
  </footer>

<!-- SCRIPTS -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const menuToggle = document.querySelector(".menu-toggle");
  const nav = document.querySelector(".nav");
  const navItems = document.querySelectorAll(".nav-item > a");

  // Toggle full menu (hamburger)
  menuToggle.addEventListener("click", () => {
    nav.classList.toggle("open");
  });

  // Toggle dropdowns only on mobile
  navItems.forEach(link => {
    link.addEventListener("click", e => {
      const dropdown = link.nextElementSibling;
      if (dropdown && dropdown.classList.contains("dropdown") && window.innerWidth < 800) {
        e.preventDefault();
        dropdown.classList.toggle("open");
      }
    });
  });
});
</script>

<style>
/* HEADER */
.site-header {
  background-color: #f5f2e8;
  border-bottom: 3px solid #245f3e;
  position: sticky;
  top: 0;
  z-index: 1000;
}

.wrap {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0.8rem 1rem;
}

.brand a {
  font-weight: 700;
  color: #245f3e;
  text-decoration: none;
  font-size: 1.2rem;
}

/* NAV DESKTOP */
.nav ul {
  list-style: none;
  display: flex;
  gap: 1.5rem;
  margin: 0;
  padding: 0;
}

.nav a {
  text-decoration: none;
  color: #245f3e;
  font-weight: 600;
}

.nav a:hover {
  color: #000;
}

.nav-item {
  position: relative;
}

/* DROPDOWN DESKTOP */
.dropdown {
  display: none;
  position: absolute;
  background-color: #fff;
  border: 1px solid #ccc;
  padding: 0.5rem 0;
  list-style: none;
  top: 100%;
  left: 0;
  min-width: 220px;
  z-index: 999;
}

.nav-item:hover > .dropdown {
  display: block;
}

.dropdown li {
  padding: 0.3rem 1rem;
}

.dropdown li a {
  color: #245f3e;
  display: block;
}

/* MOBILE */
.menu-toggle {
  display: none;
  background: none;
  border: none;
  font-size: 1.8rem;
  color: #245f3e;
  cursor: pointer;
}

@media (max-width: 800px) {
  .menu-toggle {
    display: block;
    margin-left: auto;
  }

  .nav {
    display: none;
    flex-direction: column;
    background-color: #f5f2e8;
    width: 100%;
    padding: 1rem 0;
  }

  .nav.open {
    display: flex;
  }

  .nav ul {
    flex-direction: column;
    gap: 0;
  }

  .dropdown {
    display: none;
    position: static;
    border: none;
  }

  .dropdown.open {
    display: block;
  }

  .dropdown li {
    padding: 0.5rem 1rem;
  }
}

/* FOOTER */
.site-footer {
  background-color: #245f3e;
  color: #fff;
  text-align: center;
  padding: 1.5rem 1rem;
  margin-top: 3rem;
}

.site-footer a {
  color: #f5f2e8;
  text-decoration: none;
}

.site-footer a:hover {
  text-decoration: underline;
}
</style>
</body>
</html>
